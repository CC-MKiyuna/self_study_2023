# QRコードの実装

### 背景

- ある書類の画像をアップロードしたときに画面遷移無しで画像中のQRコードに格納されている文字列を表示したい
- アップロードした画像の取り込みの記事は少なく、代わりにwebカメラ起動を起動し、QRコードを検知、文字列を表示する記事が多かった
- そのため、WebカメラからQRコードを検知するシステムを自己学習として作成した
- カメラでの読み取りができれば、画像アップロードによる読み取りができると考えた

### 実装したシステムに関わるファイル

- WebカメラよるQRコード読み込み
  - QrcodeController
  - pablic/js/script.jsとjs.QR
  - pablic/css/style.js
  - qr_form.blade.php

- 画像ファイルアップロードによるQRコード読み込み
  - QrcodeController
  - pablic/js/split.jsとjs.QR
  - qr_file.blade.php

### 実装してわかったこと

- javascript,cssファイルの外部取り込み方法
  - assetはpablicから見たパスを書く
- QRコードでデコードできる文字コード
  - 今回つかったライブラリであるjs.QRはUTF-8でデコード。そのためUTF-8で文字列をQRコードしなければ読み取れない。
  - 実装前に発見できてよかった
  - UTF-8でない方法でQRコード化した”パワー”という文字列：デコードできず、値が空白になる。
  - UTF-8でない方法でQRコード化した”test”という文字列：デコードできて”test”と表示される
  - UTF-8の方法でQRコード化した”パワー”という文字列：デコードできて”パワー”と表示される
  - 案件でよみとるQRコードに格納されている文字列の文字コード確認必須
  - UTF-8出ない場合はゴットに相談する！
